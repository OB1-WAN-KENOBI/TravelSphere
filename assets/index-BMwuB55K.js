import{j as e,R as j}from"./mui-vendor-CLtSI9R1.js";import{a as N,t as v,T as f}from"./TourCard-3c7UuxNQ.js";import{b as P,S as T,N as y,P as b,a as w,f as E}from"./formatDate-v8UKTPyy.js";import{C as i}from"./Card-Lk3I794p.js";import{u as R,L as S,B as m}from"./index-p_fKfQYs.js";import{E as g}from"./fetchJson-BLxyqeaT.js";import{h as k}from"./react-vendor-Dk88p5LA.js";import{u as F}from"./formatPrice-BWDoC67r.js";import"./query-vendor-DUWNuxmm.js";import"./mapbox-vendor-CJddBv8R.js";function W(){const{id:l}=k(),{data:n,isLoading:p,isError:_,error:h,refetch:x}=N(l||""),{data:o}=P(l||""),{formatPrice:d}=F(),{t:s}=R();if(p)return e.jsx(S,{fullScreen:!0});if(_)return e.jsx(g,{error:h,onRetry:()=>x(),title:s.tourPage.errorTitle,message:s.tourPage.errorMessage});if(!n)return e.jsx(g,{error:new Error(s.tourPage.notFoundTitle),title:s.tourPage.notFoundTitle,message:s.tourPage.notFoundMessage});const r=v(n,s.toursData),u=r.image?[r.image]:[],c=u.length>1;return e.jsxs("div",{className:"tour-page",children:[e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"tour-page__gallery",children:e.jsx(T,{modules:c?[y,b]:[],spaceBetween:10,slidesPerView:1,navigation:c,pagination:c?{clickable:!0}:!1,className:"tour-page__slider",children:u.map((a,t)=>e.jsx(w,{children:e.jsx("img",{src:a,alt:r.title,loading:"lazy",decoding:"async"})},t))})}),e.jsxs("div",{className:"tour-page__content",children:[e.jsxs("div",{className:"tour-page__main",children:[e.jsx("h1",{className:"tour-page__title",children:r.title}),e.jsx(f,{country:r.country,duration:r.duration,stars:r.stars,visaRequired:r.visaRequired}),e.jsx("p",{className:"tour-page__description",children:r.description}),r.program&&r.program.length>0&&e.jsxs(i,{className:"tour-page__program",children:[e.jsx("h2",{className:"tour-page__section-title",children:s.tourPage.program}),e.jsx("div",{className:"tour-page__program-list",children:r.program.map((a,t)=>e.jsxs("div",{className:"tour-page__program-day",children:[e.jsxs("div",{className:"tour-page__program-day-number",children:[s.tourPage.day," ",a.day]}),e.jsxs("div",{className:"tour-page__program-day-content",children:[e.jsx("h3",{children:a.title}),e.jsx("p",{children:a.description})]})]},t))})]}),e.jsxs("div",{className:"tour-page__included",children:[e.jsxs(i,{className:"tour-page__included-card",children:[e.jsx("h2",{className:"tour-page__section-title",children:s.tourPage.included}),e.jsx("ul",{className:"tour-page__included-list",children:r.included.map((a,t)=>e.jsx("li",{children:a},t))})]}),e.jsxs(i,{className:"tour-page__included-card",children:[e.jsx("h2",{className:"tour-page__section-title",children:s.tourPage.notIncluded}),e.jsx("ul",{className:"tour-page__included-list",children:r.notIncluded.map((a,t)=>e.jsx("li",{children:a},t))})]})]}),o&&o.length>0&&e.jsxs(i,{className:"tour-page__reviews",children:[e.jsx("h2",{className:"tour-page__section-title",children:s.tourPage.reviews}),e.jsx("div",{className:"tour-page__reviews-list",children:o.map(a=>e.jsxs("div",{className:"tour-page__review",children:[e.jsxs("div",{className:"tour-page__review-header",children:[e.jsx("div",{className:"tour-page__review-author",children:a.author}),e.jsx(j,{value:a.rating,readOnly:!0,size:"small"})]}),e.jsx("p",{className:"tour-page__review-comment",children:a.comment}),e.jsx("div",{className:"tour-page__review-date",children:E(a.date)})]},a.id))})]})]}),e.jsx("aside",{className:"tour-page__sidebar",children:e.jsxs(i,{className:"tour-page__booking",children:[e.jsx("div",{className:"tour-page__price",children:d(r.price,r.currency)}),e.jsx(m,{className:"tour-page__book-button",fullWidth:!0,children:s.tourPage.book})]})})]})]}),e.jsx("div",{className:"tour-page__fixed-cta",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"tour-page__fixed-cta-content",children:[e.jsx("div",{className:"tour-page__fixed-cta-price",children:d(r.price,r.currency)}),e.jsx(m,{className:"tour-page__fixed-cta-button",children:s.tourPage.book})]})})})]})}export{W as TourPage};
