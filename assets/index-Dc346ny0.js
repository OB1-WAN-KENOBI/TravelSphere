import{j as e,R as C}from"./mui-vendor-CJVoYIqO.js";import{u as h,I as l,B as S,L as x}from"./index-CxY7izXh.js";import{f as E,r as d,L}from"./react-vendor-Bu_lqQYS.js";import{u as k}from"./filtersStore-CTT5rYoL.js";import{C as N}from"./Card-CRJSVTL8.js";import{E as j}from"./EmptyState-CbGdCc3p.js";import{f as V,E as _}from"./fetchJson-D90FnMmZ.js";import{u as M,t as R}from"./translateDestination-k93astBF.js";import{g as H}from"./getAssetUrl-Bk0V8wzP.js";import{S as w,N as P,P as F,a as D,u as B,f as z}from"./formatDate-D4kFralK.js";import{T as A}from"./TourCard-5hKFjjmH.js";import{u as O}from"./TourCard-CvauChCr.js";import{o as U,u as q,s as u,t as I}from"./types-DRgC_uQm.js";import{u as $}from"./query-vendor-DRD9acJ6.js";import"./mapbox-vendor-mpGaPtGQ.js";import"./formatPrice-C2fwhGPV.js";const J=()=>{const s=E(),{setCountry:o,setDateRange:t}=k(),[i,r]=d.useState(""),[a,n]=d.useState(""),[c,m]=d.useState(""),p=d.useCallback(()=>{i&&o(i),a&&c&&t(a,c),s("/tours")},[i,a,c,o,t,s]);return{searchCountry:i,setSearchCountry:r,dateFrom:a,setDateFrom:n,dateTo:c,setDateTo:m,handleSearch:p}},K=()=>{const{searchCountry:s,setSearchCountry:o,dateFrom:t,setDateFrom:i,dateTo:r,setDateTo:a,handleSearch:n}=J(),{t:c}=h();return e.jsx("section",{className:"hero-search",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"hero-search__content",children:[e.jsx("h1",{className:"hero-search__title",children:c.hero.title}),e.jsx("p",{className:"hero-search__subtitle",children:c.hero.subtitle}),e.jsxs("div",{className:"hero-search__form",children:[e.jsx(l,{value:s,onChange:m=>o(m.target.value),placeholder:c.hero.countryPlaceholder,className:"hero-search__input"}),e.jsx(l,{type:"date",value:t,onChange:m=>i(m.target.value),placeholder:c.hero.dateFromPlaceholder,className:"hero-search__input"}),e.jsx(l,{type:"date",value:r,onChange:m=>a(m.target.value),placeholder:c.hero.dateToPlaceholder,className:"hero-search__input"}),e.jsx(S,{onClick:n,className:"hero-search__button",children:c.hero.search})]})]})})})},Q=()=>V("/data/partners.json"),W=()=>$({queryKey:["partners"],queryFn:Q}),G=6,X=()=>{const{data:s,isLoading:o,isError:t,error:i}=M();return{popularDestinations:d.useMemo(()=>s?s.slice(0,G):[],[s]),isLoading:o,isError:t,error:i}},Y=()=>{const{popularDestinations:s,isLoading:o,isError:t,error:i}=X(),{t:r}=h();return o?e.jsx("section",{className:"popular-destinations",children:e.jsx("div",{className:"container",children:e.jsx(x,{})})}):t?e.jsx("section",{className:"popular-destinations",children:e.jsx("div",{className:"container",children:e.jsx(_,{error:i})})}):s.length===0?e.jsx("section",{className:"popular-destinations",children:e.jsx("div",{className:"container",children:e.jsx(j,{message:r.popularDestinations.empty})})}):e.jsx("section",{className:"popular-destinations",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"popular-destinations__title",children:r.popularDestinations.title}),e.jsx("div",{className:"popular-destinations__grid",children:s.map(a=>{const n=R(a,r.destinationsData);return e.jsx(L,{to:`/destinations/${n.id}`,className:"popular-destinations__card",children:e.jsxs(N,{children:[e.jsx("div",{className:"popular-destinations__image",children:e.jsx("img",{src:H(n.image),alt:n.name,loading:"lazy",decoding:"async"})}),e.jsxs("div",{className:"popular-destinations__content",children:[e.jsx("h3",{className:"popular-destinations__name",children:n.name}),e.jsx("p",{className:"popular-destinations__description",children:n.description})]})]})},n.id)})})]})})},Z=()=>{const{data:s,isLoading:o,isError:t,error:i}=O();return{hotTours:d.useMemo(()=>s?s.filter(a=>a.price<1e5):[],[s]),isLoading:o,isError:t,error:i}},ee=()=>{const{hotTours:s,isLoading:o,isError:t,error:i}=Z(),{t:r}=h();return o?e.jsx("section",{className:"hot-tours",children:e.jsx("div",{className:"container",children:e.jsx(x,{})})}):t?e.jsx("section",{className:"hot-tours",children:e.jsx("div",{className:"container",children:e.jsx(_,{error:i})})}):s.length===0?e.jsx("section",{className:"hot-tours",children:e.jsx("div",{className:"container",children:e.jsx(j,{message:r.hotTours.empty})})}):e.jsx("section",{className:"hot-tours",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"hot-tours__title",children:r.hotTours.title}),e.jsx(w,{modules:[P,F],spaceBetween:24,slidesPerView:3,navigation:!0,pagination:{clickable:!0},breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:3}},className:"hot-tours__slider",children:s.map(a=>e.jsx(D,{children:e.jsx(A,{tour:a})},a.id))})]})})},se=()=>{const{t:s}=h(),o=s.advantages.items;return e.jsx("section",{className:"advantages",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"advantages__title",children:s.advantages.title}),e.jsx("div",{className:"advantages__grid",children:o.map((t,i)=>e.jsxs("div",{className:"advantages__item",children:[e.jsx("div",{className:"advantages__icon",children:t.icon}),e.jsx("h3",{className:"advantages__item-title",children:t.title}),e.jsx("p",{className:"advantages__item-description",children:t.description})]},i))})]})})},re=s=>U({name:u().min(2,s.nameMin),phone:u().min(10,s.phoneMin),email:u().email(s.email),destination:u().min(2,s.destination),dates:u().min(1,s.dates),budget:u().optional(),comments:u().optional()}),te=()=>{var p,g,f,v,T,b;const{t:s}=h(),o=d.useMemo(()=>re(s.customTourForm.validation),[s]),{register:t,handleSubmit:i,formState:{errors:r},reset:a}=q({resolver:I(o)}),[n,c]=d.useState(null),m=y=>{c(s.customTourForm.success),a()};return d.useEffect(()=>{if(!n)return;const y=setTimeout(()=>c(null),4e3);return()=>clearTimeout(y)},[n]),e.jsx("section",{className:"custom-tour-form",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"custom-tour-form__title",children:s.customTourForm.title}),e.jsx("p",{className:"custom-tour-form__subtitle",children:s.customTourForm.subtitle}),e.jsx(N,{className:"custom-tour-form__card",children:e.jsxs("form",{onSubmit:i(m),className:"custom-tour-form__form",children:[e.jsxs("div",{className:"custom-tour-form__row",children:[e.jsx(l,{label:s.customTourForm.fields.name,...t("name"),error:!!r.name,helperText:(p=r.name)==null?void 0:p.message,className:"custom-tour-form__input"}),e.jsx(l,{label:s.customTourForm.fields.phone,type:"tel",...t("phone"),error:!!r.phone,helperText:(g=r.phone)==null?void 0:g.message,className:"custom-tour-form__input"}),e.jsx(l,{label:"Email",type:"email",...t("email"),error:!!r.email,helperText:(f=r.email)==null?void 0:f.message,className:"custom-tour-form__input"})]}),e.jsxs("div",{className:"custom-tour-form__row",children:[e.jsx(l,{label:s.customTourForm.fields.destination,...t("destination"),error:!!r.destination,helperText:(v=r.destination)==null?void 0:v.message,className:"custom-tour-form__input"}),e.jsx(l,{label:s.customTourForm.fields.dates,...t("dates"),error:!!r.dates,helperText:(T=r.dates)==null?void 0:T.message,className:"custom-tour-form__input"}),e.jsx(l,{label:s.customTourForm.fields.budget,type:"number",...t("budget"),error:!!r.budget,helperText:(b=r.budget)==null?void 0:b.message,className:"custom-tour-form__input"})]}),e.jsx("div",{className:"custom-tour-form__row",children:e.jsx(l,{label:s.customTourForm.fields.comments,multiline:!0,rows:4,...t("comments"),className:"custom-tour-form__input custom-tour-form__input--full"})}),e.jsx(S,{type:"submit",className:"custom-tour-form__button",children:s.customTourForm.submit}),n&&e.jsx("p",{className:"custom-tour-form__success","aria-live":"polite",role:"status",children:n})]})})]})})},ae=()=>{const{data:s,isLoading:o,isError:t,error:i}=B(),{t:r}=h();return o?e.jsx("section",{className:"reviews-slider",children:e.jsx("div",{className:"container",children:e.jsx(x,{})})}):t?e.jsx("section",{className:"reviews-slider",children:e.jsx("div",{className:"container",children:e.jsx(_,{error:i})})}):!s||s.length===0?e.jsx("section",{className:"reviews-slider",children:e.jsx("div",{className:"container",children:e.jsx(j,{title:r.emptyState.title,message:r.emptyState.title})})}):e.jsx("section",{className:"reviews-slider",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"reviews-slider__title",children:r.reviews.title}),e.jsx(w,{modules:[P,F],spaceBetween:24,slidesPerView:3,navigation:!0,pagination:{clickable:!0},breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:3}},className:"reviews-slider__slider",children:s==null?void 0:s.map(a=>e.jsx(D,{children:e.jsxs(N,{className:"reviews-slider__card",children:[e.jsxs("div",{className:"reviews-slider__header",children:[e.jsx("div",{className:"reviews-slider__author",children:a.author}),e.jsx(C,{value:a.rating,readOnly:!0,size:"small"})]}),e.jsx("p",{className:"reviews-slider__comment",children:a.comment}),e.jsx("div",{className:"reviews-slider__date",children:z(a.date)})]})},a.id))})]})})},ie=()=>{const{data:s,isLoading:o,isError:t,error:i}=W();return{partners:s,isLoading:o,isError:t,error:i}},oe=()=>{const{partners:s,isLoading:o,isError:t,error:i}=ie(),{t:r}=h();return o?e.jsx("section",{className:"partners",children:e.jsx("div",{className:"container",children:e.jsx(x,{})})}):t?e.jsx("section",{className:"partners",children:e.jsx("div",{className:"container",children:e.jsx(_,{error:i})})}):!s||s.length===0?e.jsx("section",{className:"partners",children:e.jsx("div",{className:"container",children:e.jsx(j,{message:r.partners.empty})})}):e.jsx("section",{className:"partners",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"partners__title",children:r.partners.title}),e.jsx("div",{className:"partners__grid",children:s==null?void 0:s.map(a=>e.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"partners__item",children:e.jsx("img",{src:a.logo,alt:a.name,loading:"lazy",decoding:"async"})},a.id))})]})})};function be(){return e.jsxs(e.Fragment,{children:[e.jsx(K,{}),e.jsx(Y,{}),e.jsx(ee,{}),e.jsx(se,{}),e.jsx(te,{}),e.jsx(ae,{}),e.jsx(oe,{})]})}export{be as HomePage};
