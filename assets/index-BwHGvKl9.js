import{j as e}from"./mui-vendor-CJVoYIqO.js";import{u,t as x}from"./TourCard-CvauChCr.js";import{a as h,t as j}from"./translateDestination-k93astBF.js";import{T as _}from"./TourCard-5hKFjjmH.js";import{T as o}from"./formatPrice-C2fwhGPV.js";import{u as f,L as T}from"./index-CxY7izXh.js";import{E as d}from"./fetchJson-D90FnMmZ.js";import{g as N}from"./getAssetUrl-Bk0V8wzP.js";import{h as D}from"./react-vendor-Bu_lqQYS.js";import"./query-vendor-DRD9acJ6.js";import"./Card-CRJSVTL8.js";import"./mapbox-vendor-mpGaPtGQ.js";function A(){const{id:l}=D(),{data:n,isLoading:m,isError:c,error:p,refetch:g}=h(l||""),{data:a}=u(),{t:s}=f();if(m)return e.jsx(T,{fullScreen:!0});if(c)return e.jsx(d,{error:p,onRetry:()=>g(),title:s.destinationPage.errorTitle,message:s.destinationPage.errorMessage});if(!n)return e.jsx(d,{error:new Error("Направление не найдено"),title:s.destinationPage.notFoundTitle,message:s.destinationPage.notFoundMessage});const i=j(n,s.destinationsData),r=(a==null?void 0:a.filter(t=>i.popularTours.includes(t.id)).map(t=>x(t,s.toursData)))||[];return e.jsx("div",{className:"destination-page",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"destination-page__hero",children:[e.jsx("div",{className:"destination-page__hero-image",children:e.jsx("img",{src:N(i.image),alt:i.name})}),e.jsxs("div",{className:"destination-page__hero-content",children:[e.jsx("h1",{className:"destination-page__title",children:i.name}),e.jsx("p",{className:"destination-page__description",children:i.description}),e.jsxs("div",{className:"destination-page__meta",children:[e.jsx(o,{label:i.country}),i.visaRequired&&e.jsx(o,{label:s.destinationPage.visaRequired,color:"warning"})]})]})]}),r.length>0&&e.jsxs("section",{className:"destination-page__tours",children:[e.jsxs("h2",{className:"destination-page__section-title",children:[s.destinationPage.popularTours," ",i.name]}),e.jsx("div",{className:"destination-page__tours-grid",children:r.map(t=>e.jsx(_,{tour:t},t.id))})]})]})})}export{A as DestinationPage};
