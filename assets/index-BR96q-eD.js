import{j as e}from"./mui-vendor-CJVoYIqO.js";import{u,t as x}from"./TourCard-DLcG2dJ6.js";import{a as h,t as j}from"./translateDestination-8dMG1RaB.js";import{T as _}from"./TourCard-BTd6rCUF.js";import{T as o}from"./formatPrice-UTd8MLjm.js";import{u as f,L as T}from"./index-CCwr1TxZ.js";import{E as d}from"./fetchJson-DcjbdY66.js";import{h as N}from"./react-vendor-Bu_lqQYS.js";import"./query-vendor-DRD9acJ6.js";import"./Card-DNcZaSM6.js";import"./mapbox-vendor-mpGaPtGQ.js";function M(){const{id:l}=N(),{data:n,isLoading:m,isError:c,error:p,refetch:g}=h(l||""),{data:t}=u(),{t:s}=f();if(m)return e.jsx(T,{fullScreen:!0});if(c)return e.jsx(d,{error:p,onRetry:()=>g(),title:s.destinationPage.errorTitle,message:s.destinationPage.errorMessage});if(!n)return e.jsx(d,{error:new Error("Направление не найдено"),title:s.destinationPage.notFoundTitle,message:s.destinationPage.notFoundMessage});const i=j(n,s.destinationsData),r=(t==null?void 0:t.filter(a=>i.popularTours.includes(a.id)).map(a=>x(a,s.toursData)))||[];return e.jsx("div",{className:"destination-page",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"destination-page__hero",children:[e.jsx("div",{className:"destination-page__hero-image",children:e.jsx("img",{src:i.image,alt:i.name})}),e.jsxs("div",{className:"destination-page__hero-content",children:[e.jsx("h1",{className:"destination-page__title",children:i.name}),e.jsx("p",{className:"destination-page__description",children:i.description}),e.jsxs("div",{className:"destination-page__meta",children:[e.jsx(o,{label:i.country}),i.visaRequired&&e.jsx(o,{label:s.destinationPage.visaRequired,color:"warning"})]})]})]}),r.length>0&&e.jsxs("section",{className:"destination-page__tours",children:[e.jsxs("h2",{className:"destination-page__section-title",children:[s.destinationPage.popularTours," ",i.name]}),e.jsx("div",{className:"destination-page__tours-grid",children:r.map(a=>e.jsx(_,{tour:a},a.id))})]})]})})}export{M as DestinationPage};
